# 家庭物品管理微信小程序

> 目标：开发一个**使用本地存储的微信小程序**，用于记录家庭物品的存放位置与数量，强调“好用、直观、低负担”。
>
> 本文档用于提供给 Copilot / AI 编程助手，作为**统一的产品与技术上下文说明**。
## Project Type
This project is a WeChat Mini Program.

- Native Mini Program development (wxml / wxss / js)
- No web frameworks
- Local storage only (wx.setStorageSync)

---

## 一、产品定位

* 使用场景：家庭内部物品管理
* 目标用户：个人 / 家庭成员（第一版仅限单用户）
* 核心诉求：

  * 快速知道「物品在哪」
  * 清楚「还剩多少」
  * 操作尽量少、学习成本低

---

## 二、整体设计原则

1. **数据全部保存在用户端（本地存储）**
2. 不依赖服务器 / 云数据库
3. 页面数量尽量少，交互清晰
4. 优先满足 80% 高频需求，不追求复杂功能

---

## 三、数据结构设计（本地存储）

### 1. 物品 Item 数据结构

```js
{
  id: "item_170000000001",      // 唯一标识（字符串）
  name: "5号电池",               // 物品名称（必填）
  location: "客厅 / 电视柜 / 抽屉", // 存放位置（必填，使用人类语言）
  count: 8,                      // 数量
  unit: "节",                   // 单位（可选）
  category: "日用品",            // 分类（可选）
  note: "遥控器用",              // 备注（可选）
  createdAt: 1700000000,         // 创建时间（时间戳）
  updatedAt: 1700000500          // 最近更新时间
}
```

### 2. 本地存储结构

```js
{
  items: [Item]
}
```

### 3. 本地存储 Key

* Storage Key：`home_items`

---

## 四、页面结构设计

### 页面目录

```
pages/
├── index/      // 首页：搜索 + 物品列表
├── add/        // 新增物品页面
├── detail/     // 物品详情 / 编辑页面
```

---

## 五、页面功能说明

### 1️⃣ 首页（index）

#### 功能

* 展示全部物品列表
* 支持搜索
* 跳转新增 / 编辑页面

#### 搜索逻辑

* 根据以下字段模糊匹配：

  * name
  * location
  * note

#### UI 结构

```
[ 搜索框 ]
-----------------
物品名   位置         数量
-----------------
[ ＋ 新增物品 ]
```

#### 交互细节

* 搜索为实时过滤
* 数量较低（如 <=2）可高亮显示
* 点击物品进入详情页

---

### 2️⃣ 新增物品页（add）

#### 字段顺序（重要）

1. 物品名称（必填）
2. 数量（默认 1）
3. 单位（可选）
4. 存放位置（必填）
5. 分类（可选）
6. 备注（可选）

#### 交互规则

* 名称为空 → 不允许保存
* 数量为空 → 自动设为 1
* 保存后返回首页并提示“已保存”

---

### 3️⃣ 详情页（detail）

#### 功能

* 查看物品信息
* 修改数量（加 / 减）
* 编辑位置、备注等字段
* 删除物品

#### 数量修改交互（关键）

```
[-]   当前数量   [+]
```

* 单击加减
* 数量不可小于 0
* 修改后立即保存到本地

#### 删除交互

* 点击删除按钮
* 二次确认弹窗

---

## 六、核心交互与防呆设计

1. 所有数据变更立即写入本地存储
2. 删除操作必须二次确认
3. 空列表状态需显示引导文案

### 空状态文案

> 📦 还没有记录物品
>
> 点击下方「＋」开始吧

---

## 七、中文文案规范

### 通用提示

* 保存成功：`已保存`
* 删除确认：`确定要删除这个物品吗？`
* 库存过低：`库存较低`

### 按钮文案

* `新增物品`
* `保存`
* `删除物品`
* `修改位置`

---

## 八、开发建议（给 Copilot）

* 使用微信小程序原生开发
* 使用 `wx.setStorageSync / wx.getStorageSync`
* 本地状态统一从 storage 初始化
* 所有页面通过工具函数读写数据
* 保留结构扩展性，为未来云同步预留接口

---

## 九、版本边界（第一版不做）

* 多用户同步
* 云数据库
* 图片长期存储
* 复杂分类 / 标签系统

---

## 十、目标状态

第一版完成标准：

* 可新增 / 编辑 / 删除物品
* 可搜索
* 数据全部本地保存
* 日常家庭使用无障碍

> **做到这里，即为成功版本。**
