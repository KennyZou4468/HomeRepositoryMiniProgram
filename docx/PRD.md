# 产品需求文档（PRD）
# 家庭物品管理微信小程序

**版本：** v1.0  
**文档日期：** 2026年2月9日  
**产品负责人：** -  
**开发周期：** 第一版

---

## 1. 产品概述

### 1.1 产品定位

家庭物品管理微信小程序是一款面向个人及家庭用户的轻量级物品管理工具，旨在帮助用户快速记录和查询家庭物品的存放位置与库存数量。

### 1.2 目标用户

- **主要用户**：需要管理家庭物品的个人用户
- **使用场景**：家庭内部物品管理、库存查询、位置记录
- **用户特征**：追求简单高效、不愿意花费大量时间学习复杂系统

### 1.3 产品价值

- **解决痛点**：记不清物品放在哪里、不清楚库存剩余数量
- **核心价值**：快速查询、简单记录、低学习成本
- **差异化**：本地存储、无需注册、即用即走

### 1.4 版本边界

**第一版包含：**
- ✅ 物品的增删改查
- ✅ 搜索功能
- ✅ 本地数据存储
- ✅ 深浅色主题切换
- ✅ 库存变更记录
- ✅ 存储空间管理

**第一版不包含：**
- ❌ 多用户协同
- ❌ 云端同步
- ❌ 图片上传
- ❌ 复杂的分类标签系统

---

## 2. 功能需求

### 2.1 功能架构

```
首页（物品列表）
├── 搜索功能
├── 物品列表展示
└── 新增入口

新增物品页
├── 基础信息录入
├── 位置选择器
└── 分类选择器

物品详情页
├── 信息查看
├── 快速加减库存
├── 编辑功能
├── 删除功能
└── 变更记录

我的页面
├── 主题设置
├── 位置管理
├── 分类管理
└── 存储管理
```

### 2.2 核心功能详述

#### 2.2.1 首页（index）

**功能说明：**
- 展示全部物品列表
- 提供搜索入口
- 快速进入新增/详情页面

**界面元素：**
- 搜索框（顶部固定）
- 物品列表（名称、位置、数量）
- 新增按钮（底部固定）

**交互规则：**
- 搜索实时过滤（支持模糊匹配名称、位置、备注）
- 库存<=2时数量显示橙色预警
- 点击物品卡片进入详情页
- 空列表显示引导文案

**空状态文案：**
```
🏡 家里还没有记录物品哦～
先加一个吧，让生活更有条理 ✨
```

#### 2.2.2 新增物品页（add）

**字段清单（按优先级排序）：**

| 字段 | 必填 | 类型 | 说明 |
|------|------|------|------|
| 物品名称 | ✓ | 文本 | 最多50字符 |
| 数量 | - | 数字 | 默认1，不可小于0 |
| 单位 | - | 文本 | 可选，默认折叠 |
| 存放位置 | ✓ | 选择器 | 支持新增位置 |
| 分类 | - | 选择器 | 支持新增分类 |
| 备注 | - | 文本 | 最多250字符 |

**交互规则：**
- 名称为空时，保存按钮置灰
- 数量为空自动设为1
- 位置和分类选择器支持"添加新选项"
- 保存成功后返回首页并Toast提示"已保存"

**按钮文案：**
- 主按钮：`✓ 保存到家里`

#### 2.2.3 物品详情页（detail）

**功能模块：**

1. **信息展示区**
   - 物品名称（大标题）
   - 位置、分类、单位（标签形式）
   - 备注（默认显示前5行，超过80字符可展开）

2. **库存操作区**
   ```
   [-]  当前数量  [+]
   ```
   - 单击加减按钮
   - 数量不可小于0
   - 实时保存

3. **操作按钮区**
   - `✏️ 编辑信息`
   - `🗑️ 删除物品`

4. **变更记录区**
   - 标题：最近变更
   - 记录格式：`+2 → 剩余10  2026-02-09 15:30`
   - 颜色：+绿色 / -橙色
   - 最多显示20条，倒序排列

**库存变更记录规则（重要）：**
- 记录时机：用户**离开详情页时**记录一次（非每次点击）
- 仅记录通过 +/- 按钮的数量变化
- 不记录：新增物品初始数量、编辑页面直接修改数量
- 数据结构：`{delta: -2, after: 6, time: 1700000600}`

**删除确认流程：**
1. 点击删除按钮
2. 弹出确认框："确定要删除这个物品吗？"
3. 确认后删除，返回首页，Toast提示"已删除"

#### 2.2.4 我的页面（mine）

**功能清单：**

1. **主题设置**
   - 选项：跟随系统 / 浅色 / 深色
   - 实时生效

2. **预设位置管理**
   - 展示当前位置列表
   - 支持新增/删除
   - 用于新增/编辑页面的选择器

3. **预设分类管理**
   - 展示当前分类列表
   - 支持新增/删除
   - 用于新增/编辑页面的选择器

4. **存储空间显示**
   - 显示当前使用量（MB/KB切换）
   - 接近上限时橙色预警

5. **数据管理**
   - 一键清空数据
   - 双重确认："确定要清空所有数据吗？此操作不可恢复！"

---

## 3. 非功能需求

### 3.1 性能要求

- 首页加载时间 < 500ms
- 搜索响应时间 < 200ms
- 数据保存即时生效

### 3.2 存储要求

- 使用微信小程序本地存储
- 单用户数据上限：10MB
- 库存变更记录单物品最多20条

### 3.3 兼容性要求

- 支持微信最低版本：7.0.0+
- 适配iOS和Android系统
- 支持深浅色主题自动切换

### 3.4 用户体验要求

- 操作流程不超过3步
- 重要操作必须二次确认
- 空状态必须有引导文案
- 错误提示友好清晰

---

## 4. 界面设计规范

### 4.1 视觉风格

- **浅色模式**：温馨米色调
- **深色模式**：护眼深色调
- **强调色**：绿色（增加）、橙色（减少/警告）

### 4.2 文案规范

**通用提示：**
- 保存成功：`已保存`
- 删除成功：`已删除`
- 库存过低：`快用完啦，记得补货～`

**按钮文案：**
- `添加物品`
- `✓ 保存到家里`
- `🗑️ 删除物品`
- `✏️ 编辑信息`

**确认文案：**
- 删除物品：`确定要删除这个物品吗？`
- 清空数据：`确定要清空所有数据吗？此操作不可恢复！`

### 4.3 交互规范

- 所有数据变更立即保存
- 删除操作必须二次确认
- 列表项可点击区域明确
- 加载状态使用微信原生loading

---

## 5. 数据安全与隐私

### 5.1 数据存储

- 所有数据仅存储在用户本地
- 不上传至任何服务器
- 用户可随时清空数据

### 5.2 权限要求

- 无需获取用户个人信息
- 无需网络权限
- 无需相机、相册权限

---

## 6. 迭代规划

### 6.1 第一版目标（本次）

完成核心CRUD功能、本地存储、主题切换、基础库存管理。

### 6.2 后续版本规划（预留）

- v1.1：云端同步（可选）
- v1.2：图片上传
- v1.3：分享功能
- v2.0：多用户协同

---

## 7. 验收标准

- ✅ 可完整完成物品的增删改查
- ✅ 搜索功能正常工作
- ✅ 数据持久化保存在本地
- ✅ 主题切换功能正常
- ✅ 库存变更记录正确显示
- ✅ 存储空间管理功能正常
- ✅ 所有交互符合设计规范
- ✅ 无明显bug，日常使用流畅

---

**文档状态：** 已完成  
**下一步：** 进入技术设计与开发阶段
